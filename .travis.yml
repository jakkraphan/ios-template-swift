language: objective-c
xcode_workspace: iOS-Template.xcworkspace
xcode_scheme: Staging
osx_image: xcode7
before_install:
- export LANG=en_US.UTF-8
- sudo gem install cocoapods --no-document
- chmod +x ./scripts/travis/add-key.sh
- chmod +x ./scripts/travis/remove-key.sh
- chmod +x ./scripts/travis/sign-and-upload.sh
install:
- pod install
script:
- ./iOS-Template/Scripts/build.sh
before_script:
- ./scripts/travis/add-key.sh
after_script:
- ./scripts/travis/remove-key.sh
after_success:
- ./scripts/travis/sign-and-upload.sh
env:
  global:
  - APPNAME="iOS-Template"
  - 'DEVELOPER_NAME="iPhone Distribution: Juan Balarini (5U87XMD88S)"'
  - PROFILE_NAME="81e6a777-675d-4938-9c04-05615042bb88"
  - secure: KaOXbZ5voxh1GzBnjs5Gi2XDbD3xShK+nouTNq79vBr6tAG3xc2T/TuvQOGKdit3CMClqsFPB3z3fOGiJvaw9YwFBdWQRTGAJaYE0XXRPEhtAtl5btXoS61GgB34xVoN2p45W1+hndog/sV/Q+W0/Qp3IixnIx2yky08Q61pWZ/JBVmDaJUpxu92M8NdxdsQV99euZ44mf9yNLYO/s8QH6sYFJX65CLP3FYITm1STRxDIu1toBXlK1OpKsFPzFAhgkhDA5XHoHKulQbuFZIidlOz0fsKlpIOZn7WIRcpTGDrNZ5xJ8FbwcO/3GHKd0Q6qxmIele5cOKNKt13ffQzBq30U6v8FU8fsx/reTcBvSN5qpa4ePbCxHrfEW7NWtr+taGGo8dOp1MB7uC5jiw5nh5ezwOPJJwa3Vy4E4UdnPBRQJ0hseNCm1B2ttau659h3snCm1H21kgcHQYzCYsGEJtXVgGEM4zhG3hJy5lcEsrMJCJ2vEA4473tkijW+wTuBDpJ1FxTXY6eb7b0cKYeAiIipNFmqDA81HElv2RTQTZuFxM87HpFTYUZcaFUNZicN6tAKuA5/w6cL0adO36yCwOMtBeikSpJuvvYP5BFvQRbLHafwyNx0Gd2iNAszhiHLpuxBAQUoqlk9rwZIWQxKLxj9Mp86FFkfRWPtdnKVh0=
  - secure: xqpSw8QVLB3WxZr+fKZ/rDxOQjlUaBWFn2+6uCMTYGXhu43ZQQmhBiVxpeU1yJCZV5kYSeXQhn2Toopu4OU56hD1DGKzqNfY1ivr0QR3KEJvDY88/IeN0zDl5rZdqdTf2fE1MA+b3cKtT+qzd57tLAMuNT6rfvxgiVRP0hm26yVPNluYsA1s/O8JweRs+76My+TInm26aeGR61SJ/dt9tQvFwUaUYhrUeAq40f+rG0UUj58lP8S6O5UKjSMydvciZS3SQsAWSQj8Dq7youyeROj6HyXBZBSXtcjHkvQ/+WeQCI609loakLBf/FPewsZYwT2BHeMQVW41bJnLOH/5zc5eNzalZh/5uZn/ZkAgHr8Jp4B254evItJrFLSH5xg1RSl0PYTnjtqpXenQIAxpWCi1iijOQZ89gn1tNEG2RlQgU9PUJpgfwyDRFlGxKNL4Z+g7FkI1ILmTreaNPw+7JlBc0jWbj/CcOXCQutv5g/iTfgdbYxtFqnWIR5lJ+28cS2irXTSWIu+YqdqFDoa8t/yfoaNpMG2/z3V9+Ltjg6i0k7QfPQRXd6mtayjQLg3POdXbLDa2RqcPZgsEVtPKde7Ca5pLNfuIKH0zQVc9mE2J5hcpOF+LCdv53EHHUMj/M+b3rvNsvH3Px4WcOH7/DvrmySJbeLlzxahk/6V9RA0=
  - secure: Xm6OBfh74OnTISoDyE+cWy4mJSEdIkFWwg5/kfAGCgR6rBIa9gl+g1zBvzbB0V17VYsbyPDjOYEmzOOjn60Kr3LwvwXHmWnMRDS7qeYlX40FkxCbVUzd0V7ra72wJ0Ks76PbbnN1JtQ3js9stJrGtZK5wJI0GtHrh1EAAAwQPqGN/MRVHLf68FRZQlawoOCo3+DdgvT4uQxZJBFSy3Ebx6mqD01zgRYOWnH6QuZuwz22tdbHQA+L+jjtYJPE+olO3CCt8escWqx73P2YFEb9qCnoHzn7n8/t3PGY9b+zrsw24vMIuVNne0FqjOYQaEZf+fYwCbEkmaXCwjPYFfGQuxsdEDsOEUr1UCTyKEw6LdgPYDUQDeHS4re/GfjIStCSw9DVYjzv8mJJmvu96TFqmjC+vYjue9uz1NvDbyA+/WxG9yKzazp/CW6ln9BRQBYul0qs8ZIhyWgIAzb9GjSX7klrvrxb5yf9wGwQ/FSUupwArHCGBobaqYsYV3qKAXXzwlDRwAe7lycmvLl+fF0hbW6MKtM2EwbBG9Ywrp6bue9NLEVPNekJxH/dQE7T+wJoG2XTj77H91UzE2psimngTE+hePH5QOPRCmHOmgAmiVHs72CSUW7krRCwwd9tnzXF/gWLhAiuDJFuP27IBgSRgLHuBLYAjcSXNeqJbY2y1dA=
notifications:
  hipchat:
    rooms:
    - $API_TOKEN@ios-base
  email:
    recipients:
    on_success: change
    on_failure: always
